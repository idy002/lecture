# Problems

|    题目    |    输入文件     |     输出文件     |   时间限制   |  空间限制  |
| :------: | :---------: | :----------: | :------: | :----: |
|   bike   |   bike.in   |   bike.out   | 1 second | 256 MB |
| contest  | contest.in  | contest.out  | 1 second | 256 MB |
| diameter | diameter.in | diameter.out | 1 second | 256 MB |

*注：评测时需要开启-O2编译选项。*

## bike

#### 题目描述

​	给你一个有向图，可以有自环和重边，边权有两种，一种是'A'，一种是'B'。

​	现在定义一个字符串序列：
$$
S_0 = A
$$

$$
S_i = S_{i-1}\overline{S_{i-1}}
$$
​	其中$\overline S$ 指的是把字符串$S$的每个字符翻转一下（即从'A'变成'B'，或从'B'变成'A'），比如前面几项字符串是：
$$
A, AB,ABBA,ABBABAAB,\dots
$$
​	（容易发现，这个字符串序列前一项一定是后一项的一个前缀）。

​	现在，请你在给定的有向图中，找出最长的一条路径，满足该条路径走过的字符顺次连接形成的字符串是上面所给出的字符串序列中某个字符串的前缀。

​	因为长度可能很长，你只需要输出该路径的长度即可。

#### 输入格式

​	第一行，包含两个整数：$n \; m$，表示点数和边数。

​	接下来$m$行，每行包含三个整数：$u \; v \; c$，表示从$u$到$v$有一条字符为$c$的边。



#### 输出格式

​	输出一个整数，表示路径的长度，如果长度超过$10^{18}$ ，输出$-1$ 。

#### 样例

输入数据：

> 2 2
>
> 1 2 0
>
> 2 2 1

输出数据：

> 3

输入数据：

> 2 3
>
> 1 2 0
>
> 2 2 1
>
> 2 2 0

输出数据：

> -1



#### 数据范围

- 对于$30\%$的数据，$1 \leq n \leq 8$，$ 1 \leq m \leq 16$；
- 对于$50\%$的数据，$1 \leq n \leq 64$，$1 \leq m \leq 2n^2$；
- 对于$100\%$的数据，$1 \leq n \leq 512$ ，$1 \leq m \leq 2n^2$ 。



## contest

#### 题目描述

​	现在有$n$个人进行了一轮循环赛，即每两个人都参加了一场比赛，并且其中某个人获胜了。

​	我们用$d_i$表示第$i$个人获胜的次数，现在已知集合（注意集合中元素不重复，即如果有相同的$d$，会被去重）：
$$
S = \{ d_i \mid 1 \leq i \leq n \}
$$
​	请问$n$最小是多大，才可能存在一种获胜方案，得到给定的$S$集合。（即只告诉你集合$S$，需要你反推出最小的满足条件的$n$），同时，如果存在这样的$n$，你还需要输出对应的获胜方案。

​	补充知识（请充分利用）：

> Landau's判别法：$n$个人的循环赛，存在一种方案，使得获胜次数分别为：$d_1 \leq d_2 \leq d_3 \leq \dots \leq d_n$的充要条件是：$d_1 + d_2 + \dots + d_k \geq \frac{k(k-1)}{2}$ （对于$1 \leq k < n$）且$d_1 + d_2 + d_3 + \dots + d_n = \frac{n(n-1)}{2}$。 



#### 输入格式

​	第一行包含一个数$m$，表示集合大小。

​	第二行包含$m$个数：$a_1, a_2, \cdots , a_m$，表示集合中的数。	

#### 输出格式

​	如果不存在对应的$n$满足条件，输出-1。

​	如果存在：

​		第一行，输出一个整数$n$表示最小的满足条件的$n$。

​		接下来$n$行，每行是一个长度为$n$的0/1串，第$i$行$j$个位置如果是$1$，表示第$i$个人战胜了第$j$个人，否则没有。（第$i$行第$j$列请输出'0'）。

​	**注意，本题有部分分，如果你第一行输出正确，将会得到对应测试点一半的分数。**



#### 样例

样例输入：

> 2
>
> 1 2

样例输出：

> 4
>
> 0011
>
> 1001
>
> 0100
>
> 0010

样例输入：

> 2
>
> 0 3

样例输出：

> 6
>
> 000111
>
> 100011
>
> 110001
>
> 011001
>
> 001101
>
> 000000



#### 数据范围

- 对于$20\%$的数据，$1 \leq n \leq 4$，$ 0 \leq a_i \leq 4$；
- 对于$50\%$的数据，$1 \leq n \leq 10$，$0 \leq a_i \leq 10$；
- 对于$100\%$的数据，$1 \leq n \leq 30$，$ 0 \leq a_i \leq 30$。



## diameter

#### 题目描述

​	给你一个由无根树组成的森林，每次询问两个点：$u$, $v$ ，表示**如果**从$u$所在的树和$v$所在的树中各自随机选择一个点，然后将它们连接起来，这样会导致两棵无根树合成为一棵无根树，而新形成的无根树有个对应的直径$d$，现在，希望你能快速地回答$d$的期望是多少：$E(d)$ 。 (每次询问**不改变**图的结构)

#### 输入格式

​	第一行，三个整数：$n, m, q$，分别表示森林点数，边数及询问数；

​	接下来$m$行，每行包含两个数：$u, v$，表示一条边；

​	接下来$q$行，每行两个数$u, v$，表示一个询问。

#### 输出格式

​	对于每个询问，你需要输出对应的期望值，如果询问的$u,v$处在同一棵树中，输出$-1$。

​	你的回答会被认为正确当且仅当其与标准答案的绝对误差或相对误差小于等于$10^{-6}$。 

#### 样例

输入数据：

> 3 1 2
>
> 1 3
>
> 3 1
>
> 2 3

输出数据：

> -1
>
> 2.0000000000

输入数据：

> 5 2 3
>
> 2 4
>
> 4 3
>
> 4 2
>
> 4 1
>
> 2 5

输出数据：

> -1
>
> 2.6666666667
>
> 2.6666666667

#### 数据范围

- 对于$30\%$的数据，$1 \leq n, m, q \leq 300$；
- 对于$50\%$的数据，$1 \leq n, m, q \leq 2000$；
- 对于$100\%$的数据，$1 \leq n, m, q \leq 10^5$。 