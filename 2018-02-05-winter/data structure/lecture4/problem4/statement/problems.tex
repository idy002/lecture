\documentclass[11pt,a4paper,oneside]{article}
\usepackage[english]{babel}
\usepackage{olymp}
\usepackage[dvips]{graphicx}
\usepackage{color}
\usepackage{colortbl}
%\usepackage{expdlist}
%\usepackage{mfpic}
%\usepackage{comment}
\usepackage{multirow}

\usepackage{xeCJK}

%\setCJKmainfont[BoldFont={Hei}]
%{SimSun}
%\setCJKmonofont{FangSong}

\renewcommand{\contestname}{
No.7 High School Winter Training - Data Structure 4 \\
idy002, \today
}    

\begin{document}

\begin{problem}{bit}{bit.in}{bit.out}{3 second}
	
	给你一个长为$n$的序列：$a_1, a_2, \dots, a_n$
	
	你需完成$q$个操作，操作分两种：
	
	\begin{itemize}
		\item \verb|modify l r d|表示将l到r这个区间的数加上d
		\item \verb|query p|表示询问p这个位置的值 
	\end{itemize}
	
	\InputFile
	
	第一行一个整数$n$。
	
	第二行$n$个整数表示$a_1,a_2,\dots ,a_n$。
	
	第三行一个整数$q$。
	
	接下来$q$行，每行一个操作。
	
	\OutputFile
	
	对于每个询问操作，输出结果。
	
	\Example
	
	\begin{example}
		\exmp{
			3
			1 2 3
			3
			query 2 
			modify 1 3 -2
			query 2
		}{
			2
			0	
		}%
\end{example}

\Note

\begin{itemize}
	\item 对于$30\%$的数据，$n \leq 1000$, $q \leq 1000$
	
	\item 对于$100\%$的数据，$n \leq 100000$, $q \leq 100000$，保证初始值$1 \leq ai \leq 1000$, 每次修改变化量$1 \leq d \leq 1000$
	
\end{itemize}

\end{problem}

\begin{problem}{linear}{linear.in}{linear.out}{3 second} 
	
	给你一个序列，需要你执行两种操作：
	
	\begin{itemize}
		\item \verb|modify l r A B|将区间$[l,r]$中每个数$a_i$修改为$Aa_i+B$。
		\item \verb|query l r|询问区间$[l,r]$中所有数的和，输出和对$10^9+7$取模的结果。
	\end{itemize}
	
    \InputFile
    
    第$1$行，一个整数$N$，表示序列长度。
    
    第$2$行，有$N$个整数：$a_1,a_2,\dots,a_n$表示序列。
    
    接下来$1$行，一个整数$Q$，表示询问数。
    
    接下来$Q$行，每行一个操作。

    \OutputFile

	对于每个询问，输出结果。

    \Example

    \begin{example}
        \exmp{
			3
			1 2 3
			3
			query 1 3
			modify 2 3 2 3
			query 1 3
        }{
			6
			17
        }%
    \end{example}

    \Note
    
    \begin{itemize}
		\item 对于$30\%$的数据，$1 \leq N, Q \leq 10^3$。
		\item 对于$100\%$的数据，$1 \leq N, Q \leq 10^5$，$0 \leq a_i, A, B < 10^9+7$。
    \end{itemize}

\end{problem}


\begin{problem}{sequence}{sequence.in}{sequence.out}{3 second} 
	
	给你一个长度为$N$的序列，有$M$个操作，操作有两种类型，如下所示：
	
	\begin{itemize}
		\item \verb|D pos| 表示删除位置为$pos$的数。
		\item \verb|Q pos| 表示询问位置为$pos$的数是什么。
	\end{itemize}
	

	\InputFile
	
	第$1$行，两个整数$N, M$；
	
	第$2$行，$N$个整数：$a_1,a_2,\dots,a_n$表示初始序列；
	
	接下来$M$行，每行是上面两种操作之一。
	
	\OutputFile
	
	对于每个询问，输出其对应结果。
	
	\Example
	
	\begin{example}
		\exmp{
			5 3
			1 2 3 4 5
			Q 3
			D 3
			Q 3
		}{
			3
			4
		}%
\end{example}

\Note

\begin{itemize}
	\item 对于$30\%$的数据，$1 \leq N, Q \leq 10^3$
	\item 对于$100\%$的数据，$1 \leq N, Q \leq 10^5$，$1 \leq a_i \leq 10^9$，$1 \leq pos$, 保证任意时刻，序列中剩余数个数大于等于$pos$。
\end{itemize}

\end{problem}

\end{document}
