# Solution

[TOC]

## pay

### 20%

​	因为c比较小，所以我们可以直接暴力枚举$x$，然后看$(c-ax)/b$是否为整数即可，总的复杂度为$O(Tc)$。

### 另外40%

​	因为T太大了，我们不能枚举。

​	先用扩展欧几里得算出满足：
$$
ax_0+by_0=c
$$
​	的$x_0,y_0$，然后解的通式是：
$$
x = x_0 + k\frac{b}{d} \\
y = y_0 - k\frac{a}{d}
$$
​	我们想要的解是所有的非负解，所以对$k$是有限制的，解下面的方程：
$$
x_0 + k\frac{b}{d} \geq 0 \\
y_0 - k\frac{a}{d} \geq 0
$$
​	我们可以得到$k$的范围：
$$
\big \lceil \frac{-x_0}{b/d} \big \rceil \leq k \leq \big \lfloor \frac{y_0}{a/d} \big \rfloor
$$
​	注意，这里的取整符号中间的式子可能出现负数，所以我们需要用：
$$
\big \lceil x \big \rceil + \big \lfloor -x \big \rfloor  = 0 \quad(\forall x \in R)
$$
​	这个取整的性质将对负数取整转变为对正数取整（主要原因是计算机离只方便直接做正数除正数向下取整这种）。

​	把$k$的上界和下界求出来后就可以直接得到要求的$A$。

### 另外40%

​	要求还要求$B$，列一个求和式子就行了：
$$
\sum_{k} x_0 + y_0 + k(\frac{b}{d} - \frac{a}{d})
$$
​	这是一个等差数列求和。





## sumcomb

### 30%

​	先把组合数预处理出来，然后每次暴力加，复杂度：$O(Tn)$

### 100%

​	我们发现，在组合数那张表里，$C(n,m) = C(n-1,m-1) + C(n-1,m)$，即某个位置的值等于它左上角的值加上它上面的值。

​	然后：
$$
C(m,m) + C(m+1,m) + C(m+2,m) + \cdots + C(n,m)\\
= C(m+1,m+1) + C(m+1,m) + C(m+2,m) + \cdots + C(n,m)\\
=C(m+2,m+1) + C(m+2,m)  + \cdots + C(n,m) \\
\dots \\
=C(n+1,m+1)
$$
​	向左上方看同理也用这个公式推即可，可以得到：
$$
C(n,m) + C(n-1,m-1) + \dots + C(n-m,0) = C(n+1,m)
$$


​	复杂度$O(T + n)$



## kor

### 10%

​	枚举组合，暴力check

### 30%

​	考虑动态规划：$dp[i][j][s]$表示前$i$个数，选了$j$个OR起来后值是$s$的方案数，$O(1)$转移。

​	复杂度：$O(Tn^2s)$

### 50%和100%

​	考虑容斥，总的思想和以前那道kand一样，只是这里把以前的and变成了or。可自行参考kand那篇的题解，再自己推一推怎么把and变成处理or的情况。

​	小思考：如果不是选k个而是选一个子集（即把k=1,2,...,n的所有答案加起来的结果），那么怎么做？

​	提示：只需要修改中间的一小步。